<!DOCTYPE html>
<meta name="robots" content="noindex">
<html>
<head>
<title>Négation de l'indéfini</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f0f4f8; /* Màu nền nhã nhặn */
    color: #333;
  }
  header {
    background-color: #e0e7ed; /* Màu header */
    color: #2c3e50;
    padding: 15px 20px; /* Giảm padding */
    border-bottom: 2px solid #c0d0e0;
    display: flex; /* Sử dụng flexbox */
    justify-content: space-between; /* Dàn sang hai bên */
    align-items: center; /* Căn giữa theo chiều dọc */
    /* ************************************************* */
    /* CHỈNH SỬA: Đồng bộ chiều rộng, căn giữa, và bo góc trên */
    max-width: 800px;
    margin: 0 auto;
    border-radius: 8px 8px 0 0; 
    /* ************************************************* */
  }
  header h2, header p {
    margin: 0; /* Bỏ margin mặc định */
    font-size: 1.1em; /* Giảm kích thước chữ */
    color: #333; /* Đổi màu chữ cho dễ nhìn hơn */
  }
  h1 {
    color: #2c3e50;
    text-align: center;
    /* ************************************************* */
    /* CHỈNH SỬA: Xóa margin-top để kéo container sát lên header */
    margin-top: 0; 
    margin-bottom: 20px;
    /* ************************************************* */
  }
  .container {
    max-width: 800px;
    /* ************************************************* */
    /* CHỈNH SỬA: Xóa margin-top để container sát header */
    margin: 0 auto 30px auto; 
    /* ************************************************* */
    padding: 20px;
    background-color: #ffffff;
    /* ************************************************* */
    /* CHỈNH SỬA: Giữ góc trên vuông, bo tròn góc dưới */
    border-radius: 0 0 10px 10px; 
    /* ************************************************* */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
  .question-block {
    margin-bottom: 25px;
    padding: 20px;
    border: 1px solid #d0dbe4;
    border-radius: 8px;
    background-color: #fdfefe;
  }
  .question {
    font-weight: bold;
    margin-bottom: 5px; /* Giảm khoảng cách */
    font-size: 1.1em;
    color: #34495e;
  }
  .translation {
    font-style: italic;
    color: #666;
    margin-bottom: 15px; /* Khoảng cách với phần options */
    font-size: 0.95em;
  }
  .options label {
    display: block;
    margin-bottom: 8px;
    cursor: pointer;
    font-size: 1em;
    transition: color 0.3s ease;
    padding: 5px 0; /* Thêm padding để dễ khoanh */
  }
  .options label:hover {
    color: #5a7d9a;
  }
  .options input[type="radio"] {
    margin-right: 10px;
    transform: scale(1.1);
  }
  /* Style cho đáp án đúng được khoanh lại */
  .options label.correct-highlight {
    background-color: #d4edda; /* Nền xanh nhạt */
    border: 2px solid #28a745; /* Viền xanh đậm */
    border-radius: 5px;
    padding: 5px;
    color: #1a7e37;
  }
  .feedback {
    margin-top: 15px;
    font-weight: bold;
    padding: 8px 12px;
    border-radius: 5px;
    width: calc(100% - 24px);
    box-sizing: border-box;
    display: block;
  }
  .correct {
    background-color: #e6ffe6;
    color: #1a7e37;
    border: 1px solid #28a745;
  }
  .incorrect {
    background-color: #ffe6e6;
    color: #dc3545;
    border: 1px solid #dc3545;
  }
  /* Style riêng cho đáp án đúng trong feedback khi câu trả lời sai */
  .correct-answer-display {
    color: #0056b3;
    font-weight: bold;
    margin-top: 5px;
    display: block;
  }
  .explanation {
    font-size: 0.9em;
    font-weight: normal;
    color: #555;
    margin-top: 8px;
    font-style: italic;
  }
  .validate-btn {
    background-color: #4CAF50;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1em;
    margin-top: 15px;
    transition: background-color 0.3s ease;
  }
  .validate-btn:hover {
    background-color: #45a049;
  }
  .validate-btn:disabled {
    background-color: #cccccc;
    cursor: not-allowed;
  }
  #score-area {
    text-align: center;
    margin-top: 30px;
    padding: 20px;
    background-color: #e6f7ff;
    border: 1px solid #b3e0ff;
    border-radius: 8px;
    font-size: 1.2em;
    font-weight: bold;
    color: #0056b3;
    display: none;
  }
  .complete-test-btn {
    display: block;
    width: fit-content;
    margin: 30px auto;
    background-color: #007bff;
    color: white;
    padding: 12px 25px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1.1em;
    transition: background-color 0.3s ease;
  }
  .complete-test-btn:hover {
    background-color: #0056b3;
  }
  /* Responsive adjustments for smaller screens */
  @media (max-width: 600px) {
    .container {
      margin: 15px;
      padding: 15px;
      border-radius: 0 0 10px 10px; /* Vẫn bo góc dưới */
    }
    header {
      flex-direction: column;
      align-items: flex-start;
      max-width: 100%; /* Đảm bảo full width trên màn hình nhỏ */
      margin: 0;
      border-radius: 0; /* Loại bỏ bo góc trên màn hình nhỏ */
    }
    header h2, header p {
      font-size: 1em;
      margin-bottom: 5px;
    }
    .question, .translation, .options label, .feedback, .validate-btn, .complete-test-btn {
      font-size: 0.9em;
    }
    .feedback {
      padding: 6px 10px;
      width: calc(100% - 20px);
    }
  }
</style>
</head>
<body>

<header>
  <h2>Enseignant: Nguyễn Hoàng Vũ</h2>
</header>

<div class="container">
  <h1>Négation de l'indéfini</h1>

  <div class="question-block" id="q1-block">
    <div class="question">1. Tu fais une erreur.</div>
    <div class="translation">Bạn mắc lỗi.</div>
    <div class="options" id="options-q1">
      <label for="q1a"><input type="radio" name="q1" value="a" id="q1a"> Tu ne fais pas une erreur.</label>
      <label for="q1b"><input type="radio" name="q1" value="b" id="q1b"> Tu ne fais pas d'erreur.</label>
      <label for="q1c"><input type="radio" name="q1" value="c" id="q1c"> Tu fais ne pas une erreur.</label>
    </div>
    <button class="validate-btn" onclick="checkAnswer('q1')">Valider</button>
    <div class="feedback" id="feedback1"></div>
  </div>

  <div class="question-block" id="q2-block">
    <div class="question">2. Vous avez des projets.</div>
    <div class="translation">Bạn (số nhiều/lịch sự) có những dự án.</div>
    <div class="options" id="options-q2">
      <label for="q2a"><input type="radio" name="q2" value="a" id="q2a"> Vous n'avez pas des projets.</label>
      <label for="q2b"><input type="radio" name="q2" value="b" id="q2b"> Vous n'avez pas de projets.</label>
      <label for="q2c"><input type="radio" name="q2" value="c" id="q2c"> Vous avez ne pas des projets.</label>
    </div>
    <button class="validate-btn" onclick="checkAnswer('q2')">Valider</button>
    <div class="feedback" id="feedback2"></div>
  </div>

  <div class="question-block" id="q3-block">
    <div class="question">3. Je demande un conseil.</div>
    <div class="translation">Tôi xin một lời khuyên.</div>
    <div class="options" id="options-q3">
      <label for="q3a"><input type="radio" name="q3" value="a" id="q3a"> Je ne demande pas un conseil.</label>
      <label for="q3b"><input type="radio" name="q3" value="b" id="q3b"> Je ne demande pas de conseil.</label>
      <label for="q3c"><input type="radio" name="q3" value="c" id="q3c"> Je demande ne pas un conseil.</label>
    </div>
    <button class="validate-btn" onclick="checkAnswer('q3')">Valider</button>
    <div class="feedback" id="feedback3"></div>
  </div>

  <div class="question-block" id="q4-block">
    <div class="question">4. Il y a une banque près d'ici.</div>
    <div class="translation">Có một ngân hàng gần đây.</div>
    <div class="options" id="options-q4">
      <label for="q4a"><input type="radio" name="q4" value="a" id="q4a"> Il n'y a pas une banque près d'ici.</label>
      <label for="q4b"><input type="radio" name="q4" value="b" id="q4b"> Il n'y a pas de banque près d'ici.</label>
      <label for="q4c"><input type="radio" name="q4" value="c" id="q4c"> Il y a ne pas une banque près d'ici.</label>
    </div>
    <button class="validate-btn" onclick="checkAnswer('q4')">Valider</button>
    <div class="feedback" id="feedback4"></div>
  </div>

  <div class="question-block" id="q5-block">
    <div class="question">5. Il pose une question.</div>
    <div class="translation">Anh ấy đặt một câu hỏi.</div>
    <div class="options" id="options-q5">
      <label for="q5a"><input type="radio" name="q5" value="a" id="q5a"> Il ne pose pas une question.</label>
      <label for="q5b"><input type="radio" name="q5" value="b" id="q5b"> Il ne pose pas de question.</label>
      <label for="q5c"><input type="radio" name="q5" value="c" id="q5c"> Il pose ne pas une question.</label>
    </div>
    <button class="validate-btn" onclick="checkAnswer('q5')">Valider</button>
    <div class="feedback" id="feedback5"></div>
  </div>

  <button class="complete-test-btn" onclick="showScore()">Hoàn thành bài kiểm tra</button>

  <div id="score-area">
    <p>Bạn đã trả lời đúng <span id="correct-count">0</span> trên tổng số <span id="total-questions">0</span> câu.</p>
  </div>

</div>

<script>
  // Định nghĩa đáp án và giải thích cho từng câu
  const answers = {
    q1: {
      value: 'b',
      explanation: "Khi chuyển sang thể phủ định, mạo từ không xác định (une) sẽ biến thành 'de'."
    },
    q2: {
      value: 'b',
      explanation: "Khi chuyển sang thể phủ định, mạo từ không xác định số nhiều (des) sẽ biến thành 'de'."
    },
    q3: {
      value: 'b',
      explanation: "Khi chuyển sang thể phủ định, mạo từ không xác định (un) sẽ biến thành 'de'."
    },
    q4: {
      value: 'b',
      explanation: "Trong câu phủ định của 'Il y a', 'une' biến thành 'de'. Ngoài ra, 'y a' được rút gọn thành 'n'y a'."
    },
    q5: {
      value: 'b',
      explanation: "Khi chuyển sang thể phủ định, mạo từ không xác định (une) sẽ biến thành 'de'."
    }
  };

  let correctAnswersCount = 0;
  const totalQuestions = Object.keys(answers).length;
  const answeredQuestions = new Set(); // Theo dõi các câu hỏi đã được trả lời

  function checkAnswer(questionName) {
    // Chỉ kiểm tra nếu câu hỏi chưa được trả lời trước đó
    if (answeredQuestions.has(questionName)) {
        return; // Đã trả lời rồi, không làm gì cả
    }

    const selectedOption = document.querySelector(`input[name="${questionName}"]:checked`);
    const feedbackDiv = document.getElementById(`feedback${questionName.substring(1)}`);
    const validateButton = event.target; // Lấy nút validate được nhấn
    
    // Lấy thông tin đáp án và giải thích
    const correctAnswerInfo = answers[questionName];
    const correctAnswerRadioId = questionName + correctAnswerInfo.value;
    const correctAnswerLabel = document.querySelector(`label[for="${correctAnswerRadioId}"]`);
    
    // Highlight the correct answer regardless of user's choice
    if (correctAnswerLabel) {
      correctAnswerLabel.classList.add('correct-highlight');
    }

    if (selectedOption) {
      answeredQuestions.add(questionName); // Đánh dấu câu hỏi đã được trả lời
      
      if (selectedOption.value === correctAnswerInfo.value) {
        feedbackDiv.innerHTML = '<strong>Chính xác!</strong><br><span class="explanation">' + correctAnswerInfo.explanation + '</span>';
        feedbackDiv.className = 'feedback correct';
        correctAnswersCount++; // Tăng điểm nếu đúng
      } else {
        const correctAnswerText = correctAnswerLabel ? correctAnswerLabel.textContent.trim() : '';
        feedbackDiv.innerHTML = '<strong>Không chính xác.</strong><br><span class="correct-answer-display">Đáp án đúng là: ' + correctAnswerText + '</span><br><span class="explanation">' + correctAnswerInfo.explanation + '</span>';
        feedbackDiv.className = 'feedback incorrect';
      }
      // Vô hiệu hóa các radio button và nút validate sau khi trả lời
      const radioButtons = document.querySelectorAll(`input[name="${questionName}"]`);
      radioButtons.forEach(radio => radio.disabled = true);
      validateButton.disabled = true;
    } else {
      feedbackDiv.textContent = 'Vui lòng chọn một đáp án.';
      feedbackDiv.className = 'feedback incorrect';
    }
  }

  function showScore() {
    document.getElementById('correct-count').textContent = correctAnswersCount;
    document.getElementById('total-questions').textContent = totalQuestions;
    document.getElementById('score-area').style.display = 'block'; // Hiển thị khu vực điểm
  }
</script>

</body>
</html>