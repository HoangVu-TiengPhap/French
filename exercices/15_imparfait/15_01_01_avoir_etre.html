<!DOCTYPE html>
<meta name="robots" content="noindex">
<html>
<head>
<title>ÊTRE và AVOIR ở thì Imparfait</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f0f4f8;
    color: #333;
  }
  
  /* Container giới hạn chiều rộng, bóng đổ và bo góc chung */
  .main-content-wrapper {
      max-width: 800px;
      margin: 30px auto; 
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); 
      border-radius: 10px; 
      overflow: hidden; 
  }
  
  header {
    background-color: #e0e7ed;
    color: #2c3e50;
    padding: 15px 20px;
    /* Đã xóa border-bottom để sát container */
    display: flex;
    /* Chỉ còn h2 nên căn trái */
    justify-content: flex-start;
    align-items: center;
    /* Bo tròn góc trên */
    border-radius: 10px 10px 0 0;
  }
  
  header h2 {
    margin: 0;
    font-size: 1.1em;
    color: #333;
  }
  /* Đã xóa header p khỏi selector ban đầu */
  /* header h2, header p { ... } */
  
  h1 {
    color: #2c3e50;
    text-align: center;
    margin-top: 30px;
    margin-bottom: 20px;
  }
  
  .container {
    max-width: 100%; /* Giữ nguyên chiều rộng 100% so với wrapper */
    margin: 0 auto; /* Xóa margin-top cũ (30px auto), dính liền với header */
    padding: 20px;
    background-color: #ffffff;
    /* Bo tròn góc dưới */
    border-radius: 0 0 10px 10px;
    /* Đã chuyển box-shadow lên .main-content-wrapper */
  }
  
  .question-block {
    margin-bottom: 25px;
    padding: 20px;
    border: 1px solid #d0dbe4;
    border-radius: 8px;
    background-color: #fdfefe;
  }
  .question {
    font-weight: bold;
    margin-bottom: 5px;
    font-size: 1.1em;
    color: #34495e;
  }
  .translation {
    font-style: italic;
    color: #666;
    margin-bottom: 15px;
    font-size: 0.95em;
  }
  .options label {
    display: block;
    margin-bottom: 8px;
    cursor: pointer;
    font-size: 1em;
    transition: color 0.3s ease;
    padding: 5px 0;
  }
  .options label:hover {
    color: #5a7d9a;
  }
  .options input[type="radio"] {
    margin-right: 10px;
    transform: scale(1.1);
  }
  .options label.correct-highlight {
    background-color: #d4edda;
    border: 2px solid #28a745;
    border-radius: 5px;
    padding: 5px;
    color: #1a7e37;
  }
  .feedback {
    margin-top: 15px;
    font-weight: bold;
    padding: 8px 12px;
    border-radius: 5px;
    width: calc(100% - 24px);
    box-sizing: border-box;
    display: none;
  }
  .feedback.active {
      display: block;
  }
  .correct {
    background-color: #e6ffe6;
    color: #1a7e37;
    border: 1px solid #28a745;
  }
  .incorrect {
    background-color: #ffe6e6;
    color: #dc3545;
    border: 1px solid #dc3545;
  }
  .warning {
      background-color: #fff3cd;
      color: #856404;
      border: 1px solid #ffeeba;
  }
  .explanation {
    font-size: 0.9em;
    font-weight: normal;
    color: #555;
    margin-top: 8px;
    font-style: italic;
  }
  .correct-answer-display {
    color: dodgerblue; /* Xanh dương tươi */
    font-weight: bold;
    margin-top: 5px;
    display: block;
  }
  .validate-btn {
    background-color: #4CAF50;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1em;
    margin-top: 15px;
    transition: background-color 0.3s ease;
  }
  .validate-btn:hover {
    background-color: #45a049;
  }
  .validate-btn:disabled {
    background-color: #cccccc;
    cursor: not-allowed;
  }
  #score-area {
    text-align: center;
    margin-top: 30px;
    padding: 20px;
    background-color: #e6f7ff;
    border: 1px solid #b3e0ff;
    border-radius: 8px;
    font-size: 1.2em;
    font-weight: bold;
    color: #0056b3;
    display: none;
  }
  .complete-test-btn {
    display: block;
    width: fit-content;
    margin: 30px auto;
    background-color: #007bff;
    color: white;
    padding: 12px 25px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1.1em;
    transition: background-color 0.3s ease;
  }
  .complete-test-btn:hover {
    background-color: #0056b3;
  }
  @media (max-width: 600px) {
    .main-content-wrapper {
        margin: 15px;
    }
    header {
      flex-direction: column;
      align-items: flex-start;
      border-radius: 10px 10px 0 0; /* Giữ bo tròn góc trên */
    }
    header h2 {
      font-size: 1em;
      margin-bottom: 5px;
    }
    .container {
      padding: 15px;
      border-radius: 0 0 10px 10px; /* Giữ bo tròn góc dưới */
    }
    .question, .translation, .options label, .feedback, .validate-btn, .complete-test-btn {
      font-size: 0.9em;
    }
    .feedback {
      padding: 6px 10px;
      width: calc(100% - 20px);
    }
  }
</style>
</head>
<body>

<div class="main-content-wrapper">
    <header>
      <h2>Enseignant: Nguyễn Hoàng Vũ</h2>
      </header>

    <div class="container">
      <h1>ÊTRE và AVOIR ở thì Imparfait de l'indicatif</h1>

      <h2>ÊTRE</h2>
      <div class="question-block" id="q-etre-1-block">
        <div class="question">1. J' ét...</div>
        <div class="translation">Tôi đã là...</div>
        <div class="options" id="options-etre-1"></div>
        <button class="validate-btn" onclick="checkAnswer('etre-1')">Valider</button>
        <div class="feedback" id="feedback-etre-1"></div>
      </div>

      <div class="question-block" id="q-etre-2-block">
        <div class="question">2. Tu ét...</div>
        <div class="translation">Bạn đã là...</div>
        <div class="options" id="options-etre-2"></div>
        <button class="validate-btn" onclick="checkAnswer('etre-2')">Valider</button>
        <div class="feedback" id="feedback-etre-2"></div>
      </div>

      <div class="question-block" id="q-etre-3-block">
        <div class="question">3. Il ét...</div>
        <div class="translation">Anh ấy đã là...</div>
        <div class="options" id="options-etre-3"></div>
        <button class="validate-btn" onclick="checkAnswer('etre-3')">Valider</button>
        <div class="feedback" id="feedback-etre-3"></div>
      </div>

      <div class="question-block" id="q-etre-4-block">
        <div class="question">4. Nous ét...</div>
        <div class="translation">Chúng tôi đã là...</div>
        <div class="options" id="options-etre-4"></div>
        <button class="validate-btn" onclick="checkAnswer('etre-4')">Valider</button>
        <div class="feedback" id="feedback-etre-4"></div>
      </div>

      <div class="question-block" id="q-etre-5-block">
        <div class="question">5. Vous ét...</div>
        <div class="translation">Bạn (số nhiều/lịch sự) đã là...</div>
        <div class="options" id="options-etre-5"></div>
        <button class="validate-btn" onclick="checkAnswer('etre-5')">Valider</button>
        <div class="feedback" id="feedback-etre-5"></div>
      </div>

      <div class="question-block" id="q-etre-6-block">
        <div class="question">6. Ils ét...</div>
        <div class="translation">Họ đã là...</div>
        <div class="options" id="options-etre-6"></div>
        <button class="validate-btn" onclick="checkAnswer('etre-6')">Valider</button>
        <div class="feedback" id="feedback-etre-6"></div>
      </div>

      <hr style="margin: 40px 0; border: 0; border-top: 1px solid #ccc;">

      <h2>AVOIR</h2>
      <div class="question-block" id="q-avoir-1-block">
        <div class="question">7. J' av...</div>
        <div class="translation">Tôi đã có...</div>
        <div class="options" id="options-avoir-1"></div>
        <button class="validate-btn" onclick="checkAnswer('avoir-1')">Valider</button>
        <div class="feedback" id="feedback-avoir-1"></div>
      </div>

      <div class="question-block" id="q-avoir-2-block">
        <div class="question">8. Tu av...</div>
        <div class="translation">Bạn đã có...</div>
        <div class="options" id="options-avoir-2"></div>
        <button class="validate-btn" onclick="checkAnswer('avoir-2')">Valider</button>
        <div class="feedback" id="feedback-avoir-2"></div>
      </div>

      <div class="question-block" id="q-avoir-3-block">
        <div class="question">9. Il av...</div>
        <div class="translation">Anh ấy đã có...</div>
        <div class="options" id="options-avoir-3"></div>
        <button class="validate-btn" onclick="checkAnswer('avoir-3')">Valider</button>
        <div class="feedback" id="feedback-avoir-3"></div>
      </div>

      <div class="question-block" id="q-avoir-4-block">
        <div class="question">10. Nous av...</div>
        <div class="translation">Chúng tôi đã có...</div>
        <div class="options" id="options-avoir-4"></div>
        <button class="validate-btn" onclick="checkAnswer('avoir-4')">Valider</button>
        <div class="feedback" id="feedback-avoir-4"></div>
      </div>

      <div class="question-block" id="q-avoir-5-block">
        <div class="question">11. Vous av...</div>
        <div class="translation">Bạn (số nhiều/lịch sự) đã có...</div>
        <div class="options" id="options-avoir-5"></div>
        <button class="validate-btn" onclick="checkAnswer('avoir-5')">Valider</button>
        <div class="feedback" id="feedback-avoir-5"></div>
      </div>

      <div class="question-block" id="q-avoir-6-block">
        <div class="question">12. Ils av...</div>
        <div class="translation">Họ đã có... (nam)</div>
        <div class="options" id="options-avoir-6"></div>
        <button class="validate-btn" onclick="checkAnswer('avoir-6')">Valider</button>
        <div class="feedback" id="feedback-avoir-6"></div>
      </div>

      <button class="complete-test-btn" onclick="showScore()">Hoàn thành bài kiểm tra</button>

      <div id="score-area">
        <p>Bạn đã trả lời đúng <span id="correct-count">0</span> trên tổng số <span id="total-questions">0</span> câu.</p>
      </div>

    </div>
</div> <script>
  // Định nghĩa dữ liệu cho mỗi câu hỏi
  const questionsData = {
    // ÊTRE
    'etre-1': {
      original: "J' ét...",
      translation: "Tôi đã là...",
      correct: "J'étais",
      wrong: ["J'était", "J'étai"],
      explanation: "Động từ 'être' ở ngôi 'Je' trong Imparfait là 'étais'."
    },
    'etre-2': {
      original: "Tu ét...",
      translation: "Bạn đã là...",
      correct: "Tu étais",
      wrong: ["Tu était", "Tu étai"],
      explanation: "Động từ 'être' ở ngôi 'Tu' trong Imparfait là 'étais'."
    },
    'etre-3': {
      original: "Il ét...",
      translation: "Anh ấy đã là...",
      correct: "Il était",
      wrong: ["Il étais", "Il étai"],
      explanation: "Động từ 'être' ở ngôi 'Il/Elle/On' trong Imparfait là 'était'."
    },
    'etre-4': {
      original: "Nous ét...",
      translation: "Chúng tôi đã là...",
      correct: "Nous étions",
      wrong: ["Nous étaients", "Nous étiez"],
      explanation: "Động từ 'être' ở ngôi 'Nous' trong Imparfait là 'étions'."
    },
    'etre-5': {
      original: "Vous ét...",
      translation: "Bạn (số nhiều/lịch sự) đã là...",
      correct: "Vous étiez",
      wrong: ["Vous étais", "Vous étions"],
      explanation: "Động từ 'être' ở ngôi 'Vous' trong Imparfait là 'étiez'."
    },
    'etre-6': {
      original: "Ils ét...",
      translation: "Họ đã là...",
      correct: "Ils étaient",
      wrong: ["Ils étions", "Ils étiez"],
      explanation: "Đuôi 'aient' cho ngôi 'Ils/Elles' ở thì Imparfait. Gốc của 'être' là 'ét-'."
    },
    // AVOIR
    'avoir-1': {
      original: "J' av...",
      translation: "Tôi đã có...",
      correct: "J'avais",
      wrong: ["J'avait", "J'avai"],
      explanation: "Đuôi 'ais' cho ngôi 'Je' ở thì Imparfait. Gốc của 'avoir' là 'av-'."
    },
    'avoir-2': {
      original: "Tu av...",
      translation: "Bạn đã có...",
      correct: "Tu avais",
      wrong: ["Tu avait", "Tu avai"],
      explanation: "Đuôi 'ais' cho ngôi 'Tu' ở thì Imparfait. Gốc của 'avoir' là 'av-'."
    },
    'avoir-3': {
      original: "Il av...",
      translation: "Anh ấy đã có...",
      correct: "Il avait",
      wrong: ["Il avais", "Il avai"],
      explanation: "Đuôi 'ait' cho ngôi 'Il/Elle/On' ở thì Imparfait. Gốc của 'avoir' là 'av-'."
    },
    'avoir-4': {
      original: "Nous av...",
      translation: "Chúng tôi đã có...",
      correct: "Nous avions",
      wrong: ["Nous avaient", "Nous aviez"],
      explanation: "Đuôi 'ions' cho ngôi 'Nous' ở thì Imparfait. Gốc của 'avoir' là 'av-'."
    },
    'avoir-5': {
      original: "Vous av...",
      translation: "Bạn (số nhiều/lịch sự) đã có...",
      correct: "Vous aviez",
      wrong: ["Vous avais", "Vous avions"],
      explanation: "Đuôi 'iez' cho ngôi 'Vous' ở thì Imparfait. Gốc của 'avoir' là 'av-'."
    },
    'avoir-6': {
      original: "Ils av...",
      translation: "Họ đã có... (nam)",
      correct: "Ils avaient",
      wrong: ["Ils avions", "Ils aviez"],
      explanation: "Đuôi 'aient' cho ngôi 'Ils/Elles' ở thì Imparfait. Gốc của 'avoir' là 'av-'."
    }
  };

  let correctAnswersCount = 0;
  const totalQuestions = Object.keys(questionsData).length;
  const answeredQuestions = new Set(); 

  // Hàm xáo trộn mảng Fisher-Yates
  function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
      }
  }

  // Hàm tạo và hiển thị các lựa chọn
  function generateOptions() {
    for (const qKey in questionsData) {
      const qData = questionsData[qKey];
      const optionsDiv = document.getElementById(`options-${qKey}`);
      optionsDiv.innerHTML = ''; 

      const allOptions = [{text: qData.correct, isCorrect: true}];
      qData.wrong.slice(0, 2).forEach(w => allOptions.push({text: w, isCorrect: false})); 

      shuffleArray(allOptions); 

      allOptions.forEach((option, index) => {
        const optionId = `${qKey}-${String.fromCharCode(97 + index)}`; 
        const label = document.createElement('label');
        label.setAttribute('for', optionId);
        
        const input = document.createElement('input');
        input.type = 'radio';
        input.name = qKey;
        input.value = optionId;
        input.id = optionId;
        
        label.appendChild(input);
        label.appendChild(document.createTextNode(option.text));
        
        if (option.isCorrect) {
          label.dataset.isCorrect = "true";
          questionsData[qKey].correctOptionId = optionId; 
        }

        optionsDiv.appendChild(label);
      });
    }
  }

  // Call generateOptions when the page loads
  document.addEventListener('DOMContentLoaded', generateOptions);


  function checkAnswer(questionName) {
    if (answeredQuestions.has(questionName)) {
        return; 
    }

    const selectedOptionInput = document.querySelector(`input[name="${questionName}"]:checked`);
    const feedbackDiv = document.getElementById(`feedback-${questionName}`); // Sửa lại cách truy cập ID feedback
    const validateButton = event.target; 
    
    feedbackDiv.classList.remove('active', 'correct', 'incorrect', 'warning');
    feedbackDiv.innerHTML = '';


    if (!selectedOptionInput) {
        feedbackDiv.textContent = 'Vui lòng chọn một đáp án trước khi kiểm tra.';
        feedbackDiv.classList.add('active', 'warning');
        return;
    }

    const qData = questionsData[questionName]; 

    const correctAnswerLabel = document.querySelector(`label[for="${qData.correctOptionId}"]`);
    if (correctAnswerLabel) {
      correctAnswerLabel.classList.add('correct-highlight');
    }

    answeredQuestions.add(questionName);
    
    const selectedOptionLabel = selectedOptionInput.parentElement;
    
    if (selectedOptionLabel.dataset.isCorrect === "true") {
      feedbackDiv.innerHTML = '<strong>Chính xác!</strong><br><span class="explanation">' + qData.explanation + '</span>';
      feedbackDiv.classList.add('active', 'correct');
      correctAnswersCount++;
    } else {
      const correctAnswerText = correctAnswerLabel ? correctAnswerLabel.textContent.trim() : '';
      feedbackDiv.innerHTML = '<strong>Không chính xác.</strong><br><span class="correct-answer-display">Đáp án đúng là: ' + correctAnswerText + '</span><br><span class="explanation">' + qData.explanation + '</span>';
      feedbackDiv.classList.add('active', 'incorrect');
    }
    
    const radioButtons = document.querySelectorAll(`input[name="${questionName}"]`);
    radioButtons.forEach(radio => radio.disabled = true);
    validateButton.disabled = true;
  }

  function showScore() {
    document.getElementById('correct-count').textContent = correctAnswersCount;
    document.getElementById('total-questions').textContent = totalQuestions;
    document.getElementById('score-area').style.display = 'block';
  }
</script>

</body>
</html>