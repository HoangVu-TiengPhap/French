<!DOCTYPE html>
<meta name="robots" content="noindex">
<html>
<head>
<title>Futur Simple -Futur Proche</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f0f4f8;
    color: #333;
  }
  
  /* Đảm bảo header có cùng chiều rộng và căn giữa như container, và bo góc */
  header {
    background-color: #e0e7ed;
    color: #2c3e50;
    padding: 15px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    
    /* Các thay đổi để căn chỉnh và bo góc */
    max-width: 800px; /* Giống container */
    margin: 0px auto; /* Căn giữa và giảm margin-top */
    border-radius: 10px 10px 0 0; /* Bo tròn các góc trên */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); 
    border-bottom: none; /* Bỏ border-bottom để sát container */
  }
  
  header h2 {
    margin: 0;
    font-size: 1.1em;
    color: #333;
  }
  
  h1 {
    color: #2c3e50;
    text-align: center;
    margin-top: 0px; /* Giảm margin-top để sát header */
    margin-bottom: 20px;
  }
  
  .container {
    max-width: 800px;
    /* Giảm margin-top để sát header, giữ margin-bottom */
    margin: 0px auto 30px auto; 
    padding: 20px;
    background-color: #ffffff;
    /* Giữ góc dưới bo tròn, góc trên phẳng để khớp với header */
    border-radius: 0 0 10px 10px; 
    /* Thay đổi box-shadow để không bị trùng hoặc tạo khoảng cách với header */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
  .question-block {
    margin-bottom: 25px;
    padding: 20px;
    border: 1px solid #d0dbe4;
    border-radius: 8px;
    background-color: #fdfefe;
  }
  .question {
    font-weight: bold;
    margin-bottom: 5px;
    font-size: 1.1em;
    color: #34495e;
  }
  .translation {
    font-style: italic;
    color: #666;
    margin-bottom: 15px;
    font-size: 0.95em;
  }
  .options label {
    display: block;
    margin-bottom: 8px;
    cursor: pointer;
    font-size: 1em;
    transition: color 0.3s ease;
    padding: 5px 0;
  }
  .options label:hover {
    color: #5a7d9a;
  }
  .options input[type="radio"] {
    margin-right: 10px;
    transform: scale(1.1);
  }
  .options label.correct-highlight {
    background-color: #d4edda;
    border: 2px solid #28a745;
    border-radius: 5px;
    padding: 5px;
    color: #1a7e37;
  }
  .feedback {
    margin-top: 15px;
    font-weight: bold;
    padding: 8px 12px;
    border-radius: 5px;
    width: calc(100% - 24px);
    box-sizing: border-box;
    display: none;
  }
  .feedback.active {
      display: block;
  }
  .correct {
    background-color: #e6ffe6;
    color: #1a7e37;
    border: 1px solid #28a745;
  }
  .incorrect {
    background-color: #ffe6e6;
    color: #dc3545;
    border: 1px solid #dc3545;
  }
  .warning {
      background-color: #fff3cd;
      color: #856404;
      border: 1px solid #ffeeba;
  }
  .explanation {
    font-size: 0.9em;
    font-weight: normal;
    color: #555;
    margin-top: 8px;
    font-style: italic;
  }
  /* Cập nhật màu xanh lá cây cho đáp án đúng khi hiển thị trong feedback sai */
  .correct-answer-display {
    color: #28a745; /* Green color */
    font-weight: bold;
    margin-top: 5px;
    display: block;
  }
  .validate-btn {
    background-color: #4CAF50;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1em;
    margin-top: 15px;
    transition: background-color 0.3s ease;
  }
  .validate-btn:hover {
    background-color: #45a049;
  }
  .validate-btn:disabled {
    background-color: #cccccc;
    cursor: not-allowed;
  }
  #score-area {
    text-align: center;
    margin-top: 30px;
    padding: 20px;
    background-color: #e6f7ff;
    border: 1px solid #b3e0ff;
    border-radius: 8px;
    font-size: 1.2em;
    font-weight: bold;
    color: #0056b3;
    display: none;
  }
  .complete-test-btn {
    display: block;
    width: fit-content;
    margin: 30px auto;
    background-color: #007bff;
    color: white;
    padding: 12px 25px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1.1em;
    transition: background-color 0.3s ease;
  }
  .complete-test-btn:hover {
    background-color: #0056b3;
  }
  @media (max-width: 600px) {
    .container, header {
      margin: 0px 15px 30px 15px;
      padding: 15px;
      max-width: none; /* Cho phép giãn ra hết cỡ */
      width: auto;
    }
    header {
      margin-bottom: 0;
      border-radius: 10px 10px 0 0;
    }
    .container {
      margin-top: 0;
      border-radius: 0 0 10px 10px;
    }
    header {
      flex-direction: column;
      align-items: flex-start;
    }
    header h2 {
      font-size: 1em;
      margin-bottom: 0px; 
    }
    .question, .translation, .options label, .feedback, .validate-btn, .complete-test-btn {
      font-size: 0.9em;
    }
    .feedback {
      padding: 6px 10px;
      width: calc(100% - 20px);
    }
  }
</style>
</head>
<body>

<header>
  <h2>Enseignant: Nguyễn Hoàng Vũ</h2>
  </header>

<div class="container">
  <h1>Futur Simple -Futur Proche</h1>

  <div class="question-block" id="q1-block">
    <div class="question">1. Le ciel est bas. La neige (tomber).</div>
    <div class="translation">Trời thấp. Tuyết (rơi).</div>
    <div class="options" id="options-q1"></div>
    <button class="validate-btn" onclick="checkAnswer('q1')">Valider</button>
    <div class="feedback" id="feedback1"></div>
  </div>

  <div class="question-block" id="q2-block">
    <div class="question">2. Pendant le voyage, les portes de l'avion (rester) fermées.</div>
    <div class="translation">Trong suốt chuyến bay, các cửa máy bay (vẫn) đóng.</div>
    <div class="options" id="options-q2"></div>
    <button class="validate-btn" onclick="checkAnswer('q2')">Valider</button>
    <div class="feedback" id="feedback2"></div>
  </div>

  <div class="question-block" id="q3-block">
    <div class="question">3. Nous ne (aller) plus dans ce restaurant, il est trop cher.</div>
    <div class="translation">Chúng tôi không (đi) nữa vào nhà hàng này, nó quá đắt.</div>
    <div class="options" id="options-q3"></div>
    <button class="validate-btn" onclick="checkAnswer('q3')">Valider</button>
    <div class="feedback" id="feedback3"></div>
  </div>

  <div class="question-block" id="q4-block">
    <div class="question">4. Attention, tu (tomber)!</div>
    <div class="translation">Cẩn thận, bạn (ngã)!</div>
    <div class="options" id="options-q4"></div>
    <button class="validate-btn" onclick="checkAnswer('q4')">Valider</button>
    <div class="feedback" id="feedback4"></div>
  </div>

  <div class="question-block" id="q5-block">
    <div class="question">5. Vite! L'autobus (partir).</div>
    <div class="translation">Nhanh lên! Xe buýt (khởi hành).</div>
    <div class="options" id="options-q5"></div>
    <button class="validate-btn" onclick="checkAnswer('q5')">Valider</button>
    <div class="feedback" id="feedback5"></div>
  </div>

  <div class="question-block" id="q6-block">
    <div class="question">6. Je (retourner) sûrement en Chine l'an prochain.</div>
    <div class="translation">Tôi (trở về) chắc chắn sẽ về Trung Quốc vào năm tới.</div>
    <div class="options" id="options-q6"></div>
    <button class="validate-btn" onclick="checkAnswer('q6')">Valider</button>
    <div class="feedback" id="feedback6"></div>
  </div>

  <div class="question-block" id="q7-block">
    <div class="question">7. Elle est enceinte de neuf mois. Elle (accoucher) ces jours-ci.</div>
    <div class="translation">Cô ấy mang thai được chín tháng. Cô ấy (sinh) vào những ngày này.</div>
    <div class="options" id="options-q7"></div>
    <button class="validate-btn" onclick="checkAnswer('q7')">Valider</button>
    <div class="feedback" id="feedback7"></div>
  </div>

  <div class="question-block" id="q8-block">
    <div class="question">8. Il est 9 heures, le concert (commencer).</div>
    <div class="translation">Bây giờ là 9 giờ, buổi hòa nhạc (bắt đầu).</div>
    <div class="options" id="options-q8"></div>
    <button class="validate-btn" onclick="checkAnswer('q8')">Valider</button>
    <div class="feedback" id="feedback8"></div>
  </div>

  <div class="question-block" id="q9-block">
    <div class="question">9. Ils (devenir) fous: leur situation est insupportable.</div>
    <div class="translation">Họ (trở nên) điên rồ: tình hình của họ không thể chịu đựng được.</div>
    <div class="options" id="options-q9"></div>
    <button class="validate-btn" onclick="checkAnswer('q9')">Valider</button>
    <div class="feedback" id="feedback9"></div>
  </div>

  <div class="question-block" id="q10-block">
    <div class="question">10. Dans vingt ans, où (être)-nous? Que (faire)-nous?</div>
    <div class="translation">Trong hai mươi năm nữa, chúng ta sẽ (ở) đâu? Chúng ta sẽ (làm) gì?</div>
    <div class="options" id="options-q10"></div>
    <button class="validate-btn" onclick="checkAnswer('q10')">Valider</button>
    <div class="feedback" id="feedback10"></div>
  </div>

  <button class="complete-test-btn" onclick="showScore()">Hoàn thành bài kiểm tra</button>

  <div id="score-area">
    <p>Bạn đã trả lời đúng <span id="correct-count">0</span> trên tổng số <span id="total-questions">0</span> câu.</p>
  </div>

</div>

<script>
  // Định nghĩa dữ liệu cho mỗi câu hỏi
  const questionsData = {
    q1: {
      original: "Le ciel est bas. La neige (tomber).",
      translation: "Trời thấp. Tuyết (rơi).",
      correct: "va tomber", // Futur Proche: hành động sắp xảy ra, có dấu hiệu rõ ràng (bầu trời thấp)
      wrong: ["tombera", "est tombée"],
      explanation: "Sử dụng Futur Proche (aller + infinitif) vì hành động sắp xảy ra, có dấu hiệu hiện tại rõ ràng (trời thấp)."
    },
    q2: {
      original: "Pendant le voyage, les portes de l'avion (rester) fermées.",
      translation: "Trong suốt chuyến bay, các cửa máy bay (vẫn) đóng.",
      correct: "resteront", // Futur Simple: một sự thật/tình trạng sẽ diễn ra trong tương lai (suốt chuyến đi)
      wrong: ["vont rester", "restent"],
      explanation: "Sử dụng Futur Simple vì đây là một tình trạng sẽ kéo dài trong tương lai (suốt chuyến đi)."
    },
    q3: {
      original: "Nous ne (aller) plus dans ce restaurant, il est trop cher.",
      translation: "Chúng tôi không (đi) nữa vào nhà hàng này, nó quá đắt.",
      correct: "n'irons", // Futur Simple: quyết định trong tương lai, không nhất thiết là ngay lập tức
      wrong: ["n'allons pas", "n'allons plus"], // "n'allons plus" là hiện tại phủ định
      explanation: "Sử dụng Futur Simple vì đây là một quyết định trong tương lai, không nhất thiết là ngay lập tức. Động từ 'aller' có gốc tương lai bất quy tắc là 'ir-'."
    },
    q4: {
      original: "Attention, tu (tomber)!",
      translation: "Cẩn thận, bạn (ngã)!",
      correct: "vas tomber", // Futur Proche: cảnh báo một hành động sắp xảy ra ngay lập tức
      wrong: ["tomberas", "es tombé"],
      explanation: "Sử dụng Futur Proche (aller + infinitif) vì đây là một cảnh báo về hành động sắp xảy ra ngay lập tức."
    },
    q5: {
      original: "Vite! L'autobus (partir).",
      translation: "Nhanh lên! Xe buýt (khởi hành).",
      correct: "va partir", // Futur Proche: hành động sắp xảy ra ngay lập tức
      wrong: ["partira", "est parti"],
      explanation: "Sử dụng Futur Proche (aller + infinitif) vì đây là hành động sắp xảy ra ngay lập tức, có tính khẩn cấp."
    },
    q6: {
      original: "Je (retourner) sûrement en Chine l'an prochain.",
      translation: "Tôi (trở về) chắc chắn sẽ về Trung Quốc vào năm tới.",
      correct: "retournerai", // Futur Simple: hành động trong tương lai có xác định thời gian (năm tới) và sự chắc chắn ('sûrement')
      wrong: ["vais retourner", "retourne"],
      explanation: "Sử dụng Futur Simple vì hành động xảy ra trong tương lai (năm tới) và có tính chắc chắn ('sûrement')."
    },
    q7: {
      original: "Elle est enceinte de neuf mois. Elle (accoucher) ces jours-ci.",
      translation: "Cô ấy mang thai được chín tháng. Cô ấy (sinh) vào những ngày này.",
      correct: "va accoucher", // Futur Proche: hành động rất gần, có dấu hiệu rõ ràng
      wrong: ["accouchera", "accouchait"],
      explanation: "Sử dụng Futur Proche (aller + infinitif) vì hành động sắp xảy ra rất gần, có dấu hiệu rõ ràng ('enceinte de neuf mois', 'ces jours-ci')."
    },
    q8: {
      original: "Il est 9 heures, le concert (commencer).",
      translation: "Bây giờ là 9 giờ, buổi hòa nhạc (bắt đầu).",
      correct: "va commencer", // Futur Proche: hành động sắp xảy ra ngay lập lập tức theo lịch trình
      wrong: ["commencera", "commence"],
      explanation: "Sử dụng Futur Proche (aller + infinitif) vì hành động sắp bắt đầu theo một lịch trình cố định và thời gian hiện tại rất gần."
    },
    q9: {
      original: "Ils (devenir) fous: leur situation est insupportable.",
      translation: "Họ (trở nên) điên rồ: tình hình của họ không thể chịu đựng được.",
      correct: "vont devenir", // Futur Proche: hệ quả trực tiếp, sắp xảy ra của tình hình hiện tại
      wrong: ["deviendront", "deviennent"],
      explanation: "Sử dụng Futur Proche (aller + infinitif) vì đây là hệ quả trực tiếp và sắp xảy ra của tình hình hiện tại ('insupportable'). Động từ 'devenir' có gốc tương lai bất quy tắc 'deviendr-' nhưng ở đây dùng Futur Proche."
    },
    q10: {
      original: "Dans vingt ans, où (être)-nous? Que (faire)-nous?",
      translation: "Trong hai mươi năm nữa, chúng ta sẽ (ở) đâu? Chúng ta sẽ (làm) gì?",
      correct: "serons-nous, ferons-nous", // Futur Simple: tương lai xa, mang tính dự đoán/câu hỏi chung
      wrong: ["allons être, allons faire", "sommes, faisons"],
      explanation: "Sử dụng Futur Simple vì đây là câu hỏi về một tương lai khá xa ('Dans vingt ans') và mang tính dự đoán, không phải hành động đã lên kế hoạch hoặc sắp xảy ra. 'Être' thành 'serons' và 'faire' thành 'ferons'."
    }
  };

  let correctAnswersCount = 0;
  const totalQuestions = Object.keys(questionsData).length;
  const answeredQuestions = new Set(); 

  // Hàm xáo trộn mảng Fisher-Yates
  function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
      }
  }

  // Hàm tạo và hiển thị các lựa chọn
  function generateOptions() {
    for (const qKey in questionsData) {
      const qData = questionsData[qKey];
      const optionsDiv = document.getElementById(`options-${qKey}`);
      optionsDiv.innerHTML = ''; 

      const allOptions = [{text: qData.correct, isCorrect: true}];
      qData.wrong.slice(0, 2).forEach(w => allOptions.push({text: w, isCorrect: false})); 

      shuffleArray(allOptions); 

      allOptions.forEach((option, index) => {
        const optionId = `${qKey}-${String.fromCharCode(97 + index)}`; 
        const label = document.createElement('label');
        label.setAttribute('for', optionId);
        
        const input = document.createElement('input');
        input.type = 'radio';
        input.name = qKey;
        input.value = optionId;
        input.id = optionId;
        
        label.appendChild(input);
        label.appendChild(document.createTextNode(option.text));
        
        if (option.isCorrect) {
          label.dataset.isCorrect = "true";
          questionsData[qKey].correctOptionId = optionId; 
        }

        optionsDiv.appendChild(label);
      });
    }
  }

  // Call generateOptions when the page loads
  document.addEventListener('DOMContentLoaded', generateOptions);


  function checkAnswer(questionName) {
    if (answeredQuestions.has(questionName)) {
        return; 
    }

    const selectedOptionInput = document.querySelector(`input[name="${questionName}"]:checked`);
    const feedbackDiv = document.getElementById(`feedback${questionName.substring(1)}`); 
    const validateButton = event.target; 
    
    feedbackDiv.classList.remove('active', 'correct', 'incorrect', 'warning');
    feedbackDiv.innerHTML = '';


    if (!selectedOptionInput) {
        feedbackDiv.textContent = 'Vui lòng chọn một đáp án trước khi kiểm tra.';
        feedbackDiv.classList.add('active', 'warning');
        return;
    }

    const qData = questionsData[questionName]; 

    const correctAnswerLabel = document.querySelector(`label[for="${qData.correctOptionId}"]`);
    if (correctAnswerLabel) {
      correctAnswerLabel.classList.add('correct-highlight');
    }

    answeredQuestions.add(questionName);
    
    const selectedOptionLabel = selectedOptionInput.parentElement;
    
    if (selectedOptionLabel.dataset.isCorrect === "true") {
      feedbackDiv.innerHTML = '<strong>Chính xác!</strong><br><span class="explanation">' + qData.explanation + '</span>';
      feedbackDiv.classList.add('active', 'correct');
      correctAnswersCount++;
    } else {
      const correctAnswerText = correctAnswerLabel ? correctAnswerLabel.textContent.trim() : '';
      feedbackDiv.innerHTML = '<strong>Không chính xác.</strong><br><span class="correct-answer-display">Đáp án đúng là: ' + correctAnswerText + '</span><br><span class="explanation">' + qData.explanation + '</span>';
      feedbackDiv.classList.add('active', 'incorrect');
    }
    
    const radioButtons = document.querySelectorAll(`input[name="${questionName}"]`);
    radioButtons.forEach(radio => radio.disabled = true);
    validateButton.disabled = true;
  }

  function showScore() {
    document.getElementById('correct-count').textContent = correctAnswersCount;
    document.getElementById('total-questions').textContent = totalQuestions;
    document.getElementById('score-area').style.display = 'block';
  }
</script>

</body>
</html>